<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html" />
  <meta http-equiv="PRAGMA" content="NO-CACHE"/>
  <meta http-equiv="EXPIRES" content="0"/>
  <title>EPICS Version 4 Home Page</title>
  <link rel="stylesheet" type="text/css" href="http://epics-pvdata.sourceforge.net/base.css" />
  <link rel="stylesheet" type="text/css" href="http://epics-pvdata.sourceforge.net/epicsv4web.css" />
  <link href="https://plus.google.com/114828842338418222242" rel="publisher" />
  <style type="text/css">

  div.newrel {
    font-size: 20px;
    line-height: 1.3542;
    font-weight: 100;
    text-align: left;
    margin-left: auto;
    margin-right: auto;
    max-width: 80.3333%;
    color: #C0C0C0 <!-- #FFF -->
   }
   @media print {
     body { margin-right: 1%;
            font-size: smaller
     }
   }
   @media screen {
     body { margin: 1em 2em 2em 2em }
   }
   
   h4, h5, blockquote { margin-left: 1em }
   q { font-style: italic }
   </style>
</head>


<body>
<div style="font-size:70%;text-align:right;">
<!-- hhmts start -->Last modified: Sept 26 2016 <!-- hhmts end -->
</div>
<table width="100%" style="border-width:1px">
  <tr>
    <td style="padding:4px">
      <table id="logo" style="border-width:0px" class="image">
	<caption
	style="text-align:center;letter-spacing:1.0em;font-size:70%;
	    font-weight:lighter;margin-left:1.0em;white-space:nowrap"
	align="top">EPICS V4
	</caption>
	<tr>
	  <td><img align="left" src="http://epics-pvdata.sourceforge.net/image/logos/EV4logo_blue_sanstext_lg.png"
	    alt="EPICS V4 logo"/>
	  </td>
	</tr>
      </table>
    </td>
    <td width="100%"
      style=
      "text-align:center;letter-spacing:0.2em;font-size:350%;color:#4C3BCA">EPICS
      Version 4
    </td>

  </tr>

</table>

<table class="masthead" width="100%" style="font-weight:bold">
  <tbody align="center">
    <tr>
      <!-- #005a9c rgb(0,128,255); -->
      <td align="center" class="selected">
	<span class="selectedtab" >HOME</span>
      </td>
      <td align="center"><a href="development.html">DEVELOPMENT</a></td>
      <td align="center"><a
	href="https://sourceforge.net/projects/epics-pvdata/files/">DOWNLOAD</a></td>
      <td align="center"><a href="literature.html">DOCUMENTATION</a></td>
      <td align="center"><a href="features.html">FEATURES</a></td>
      <td align="center"><a href="home.html">WORKING GROUP</a></td>
      <td align="center"><a href="https://github.com/epics-base">GITHUB</a></td>
      <td align="center"><a href="https://docs.google.com/spreadsheet/pub?key=0AiY7lwlw4Y4XdDNBVzRUN0FOMGw1Ty1pZk9MeGtPVnc&amp;output=html">DASHBOARD</a>
      <br />
      <b>Needs Updating</b>
      </td>
   </tr>
   </tbody>
</table>


<h2 id="whatdoesitbring" style="margin-bottom:10px">EPICS Version 4 Releases</h2>
<div style="width=100%; padding-top:10px; padding-bottom:10px"> 
<div class="newrel">
    <p>EPICS Version 4 is the most powerful and versatile EPICS yet. The familiar EPICS you use every day extended with complex data structures, a new network-accessible application framework, and Service Oriented Architecture (SOA). 
    </p>
<h3>Release 4.6</h3>
<p>The latest release, v4.6 consists of the following modules:</p>
<dl>
 <dt>pvDataJava and pvDataCPP</dt>
    <dd>Minor changes since previous release</dd>
 <dt>normativeTypesJava and normativeTypesCPP</dt>
    <dd>Minor changes since previous release</dd>
 <dt>pvAccessJava and pvAccessCPP</dt>
    <dd>Minor changes since previous release</dd>
 <dt>pvaClientJava and pvaClientCPP</dt>
    <dd>More robust than previous release.<br />
       easyPva Java no longer  supported.
    </dd>
 <dt>pvDatabaseJava and pvDatabaseCPP</dt>
 <dt>pvaSrv</dt>
    <dd>Minor changes since last release.</dd>
 <dt>pvaPy</dt>
    <dd>Several changes since last release.</dd>
 <dt>exampleJava and exampleCPP</dt>
    <dd>Many new examples since last release<br />
      Several examples that were in pvaClient and pvDatabase have been moved
      to here.
    </dd>
</dl>
<p>A lot of changes were made to
<a href="informative/developerGuide/developerGuide.html">Developer Guide</a>.
It is a good way to understand the various v4.6 modules.
</p>
</div>
</div>



<div style="width=100%; padding-top:10px; padding-bottom:10px"> 
<div class="newrel">
<h3>Release 4.5</h3>

    <p>Release, v4.5, builds on the enormous performance upgrades of v4.4, with further performance improvements, usability improvements, and bug fixes throughout the system. The new application framework, pvDatabase, is now available in both C++ and Java, and the C++ implementation has been extended with simplified monitoring. v4.5 makes it easier than ever to use the Normative Types - the Version 4 standard types for scientific data. Python support has been extended, and all the command line tools; pvget, pvput, eget and pvinfo now support Channel Access as well as the new protocol of EPICS Version 4, pvAccess. </p>
  
       <p>EPICS v4.5 supports all Base releases since late 3.14.12, specifically including all 3.15 releases. For more of the features of EPICS v4.5, see the <a href="features.html#newin4-5">Features</a> page.</p>
  </div>
</div>


<!-- This hr style could be used as a seperator
style="width:90%;height:1px;border-width:0;color:gray;background-color:gray"/ -->

<table class="content" width="100%">
  <tr> <!-- Row with quicklinks and Operating Points-->
    <td class="content" align="left" valign="top" 
        style="width:11em; background-color:rgb(245,245,245); padding:4px"> <!-- Column of quicklinks-->

      <ul class="quicklinks_outer">
	<li>SEARCH EPICS Version 4
	  <form name="google-search" method="get" action="http://www.google.com/search">
	    <div style="border:1px;padding:4px;font-size:90%;width=20em">
	      <input type="hidden" name="sitesearch" value="http://epics-pvdata.sourceforge.net" />
	      <input name="q" type="text" size="28" style="font-size:90%" maxlength="255" />
	      <input type="submit" name="sa" style="margin-top:0.5em;font-size:90%" value="Google" />
	    </div>
	  </form>
         </li>
      </ul>   
       
      <ul  class="quicklinks_outer">
	<li>HOME
	<ul class="quicklinks_inner">
	  <li><a 
	  href="#nutshell">In a Nutshell</a></li>
	  <li><a href="#interop" >V4/Base Interoperation</a></li>
	  <li><a href="#perf" >Performance</a></li>
	</ul>
        </li>
      </ul>

     
      <ul class="quicklinks_outer">
	<li><a href="development.html">DEVELOPMENT</a>
	<ul class="quicklinks_inner">
	  <li><a href="gettingStarted.html">Getting Started</a></li>
	  <li><a href="informative/developerGuide/developerGuide.html">Developer Guide</a></li>
	  <li><a
	  href="informative/Training/training.slides.html">Training</a></li>
	  <li><a 
	  href="http://sourceforge.net/projects/epics-pvdata/support">Support</a></li>
	  <li><a href="literature.html#swdoc">Primary reference documents</a></li>
	  <li><a
	href="https://github.com/epics-base/">GitHub
	Repos</a></li>
	
	<li><a href="https://openepics.ci.cloudbees.com/view/EPICS%20V4%20C++/">
	C++ module Cloudbees</a></li>
	<li><a href="https://openepics.ci.cloudbees.com/view/EPICS%20V4%20Java/">
	Java module Cloudbees</a></li>
	<li><a href="https://sourceforge.net/projects/epics-pvdata/">SourceForge Home</a></li>
	<li><a
href="https://github.com/epics-base/pvDataWWW/blob/master/scripts/RELEASE_VERSIONS"
	>RELEASE VERSIONS</a></li>
        <li><a href="pvAccessConfig.xlsx" >pvAccess Configuration (Excel)</a></li>
	</ul>
        </li>
      </ul>

      <ul  class="quicklinks_outer">
	<li><a
	href="https://sourceforge.net/projects/epics-pvdata/files/">DOWNLOAD</a></li>
      </ul>

      <ul class="quicklinks_outer">
	<li><a href="literature.html">DOCUMENTATION</a>
	<ul class="quicklinks_inner">
	  <li><a href="literature.html#swdoc">Programmers Reference</a></li>
	  <li><a href="literature.html#normativedocs">pvAccess
	  Specification</a></li>
	  <li><a
	  href="alpha/normativeTypes/normativeTypes.html">Normative
	  Types</a></li>
	  <li><a
	  href="literature.html#informativedocs">Architectures</a></li>
	  <li><a href="literature.html#internal">Internal Documents</a></li>
	  <li><a href="literature.html#talks">Talks and Papers</a></li>
	</ul>
         </li>
      </ul>

      <ul class="quicklinks_outer">
	<li><a href="features.html">FEATURES</a>
	<ul class="quicklinks_inner">
	  <li><a href="features.html#features">Feature List</a></li>
	  <li><a href="features.html#solutions">Solutions</a></li>
	</ul>
        </li>
      </ul>
      
      <ul class="quicklinks_outer">
	<li><a href="home.html">WORKING GROUP</a>
       
	<ul class="quicklinks_inner">
         <li>FOLLOWING NEED UPDATING</li>
	  <li><a href="home.html#status">Activities</a></li>
	  <li><a href="https://docs.google.com/spreadsheet/pub?key=0AiY7lwlw4Y4XdDNBVzRUN0FOMGw1Ty1pZk9MeGtPVnc&amp;output=html">Dashboard</a></li>
	  <li><a href="home.html#meetings">Meetings</a></li>
	  <li><a href="home.html#usefulinfo">Meeting Info</a></li>
	  <li><a href="home.html#membership">Membership</a></li>
	  <li><a 
	  href="http://sourceforge.net/mailarchive/forum.php?forum_name=epics-pvdata-devel">Mail
	  Archive</a></li>
	  <li><a
	  href="https://sourceforge.net/tracker/?group_id=249167&amp;atid=2482257">Action
	  Items</a>
	  </li>
	  <li><a
	  href="https://sourceforge.net/tracker/?group_id=249167&amp;atid=2483551">Issues</a></li>
	  <li><a
	  href="https://sourceforge.net/tracker/?group_id=249167&amp;atid=2585448">Bugs</a>
	  </li>
	  <li><a href="https://sourceforge.net/tracker/?group_id=249167&amp;atid=2483530">Resolutions</a></li>
	</ul>
        </li>
      </ul>

      <ul class="quicklinks_outer">
	<li><a
	href="https://plus.google.com/u/0/114828842338418222242/posts">EPICS V4 ON GOOGLE+</a></li>
      </ul>

      <!-- <ul  class="quicklinks_outer">
	<li><a
  href="FAQ.html">FAQ</a></li>
      </ul> -->

      <ul class="quicklinks_outer">
	<li><a href="charter.html">CHARTER</a>
	<ul class="quicklinks_inner">
          <li>FOLLOWING NEED UPDATING</li>
	  <li><a href="charter.html#scope">Goals</a></li>
	  <li><a href="charter.html#deliverables">Deliverables</a></li>
	  <li><a href="charter.html#milestones">Milestones</a></li>
	</ul>
        </li>
      </ul>

       <ul class="quicklinks_outer">
	 <li><a href="http://www.aps.anl.gov/epics/">EPICS</a>
	 <ul class="quicklinks_inner">
	   <li><a href="http://www.aps.anl.gov/epics/download/base/index.php">Base
	   Downloads</a></li>
	   <li><a
	 href="	http://www.aps.anl.gov/epics/tech-talk/index.php">Tech-talk forum</a></li>
	 </ul>
       </li>
       </ul>

    </td> <!-- End Quicklinks column -->
  <td valign="top">  <!-- Main Material Column -->      

  <p class="first" > <!-- style="margin-top:30px" -->
This is the homepage of EPICS Version 4, a software toolkit for writing the control
system and online scientific services of large experimental facilities.</p>

       
<p>To get started, see the <a href="https://sourceforge.net/projects/epics-pvdata/files/4.6.0/" >v4.6 Downloads</a> and the <a href="gettingStarted.html" > Getting Started with EPICS V4</a> guide.</p>
  <p>The <a href="http://epics-pvdata.sourceforge.net/literature.html#swdoc" >programmers reference documentation</a> for each software component of EPICS V4 is listed in the <a href="http://epics-pvdata.sourceforge.net/literature.html" >Literature</a> page.
</p>
<p>
The
<a href="informative/developerGuide/developerGuide.html" >EPICS V4 Developer's Guide</a>
 describes the modules that are provided with EPICS V4. </p>
<p>The pvAccess protocol is described in its <a href="http://epics-pvdata.sourceforge.net/pvAccess_Protocol_Specification.html" >specification</a>. Environment settings, such as <kbd>EPICS_PVA_ADDR_LIST</kbd> etc, are described in the <a href="http://epics-pvdata.sourceforge.net/pvAccessConfig.xlsx" >pvAccess Configuration spreadsheet (Excel)</a>. Check the present status of V4's CPU architecture compatibility in the <a href="http://epics-pvdata.sourceforge.net/Ev4buildtracker.xls" >Compatibility Tracker (Excel)</a>.</p>
  <p>If you get into trouble, you might first check the <a href="troubleshooting.html">Troubleshooting EPICS V4</a>
cheatsheet, which lists very first steps in finding and resolving problems with EPICS
V4 connections. After that, email <a href="http://www.aps.anl.gov/epics/tech-talk/" >EPICS tech-talk</a> or contact the <a href="http://epics-pvdata.sourceforge.net/home.html" >EPICS V4 working group</a>.</p>

     
<h2 id="nutshell">EPICS Version 4 Components in a Nutshell</h2>
<p>EPICS Version 4 is composed of five parts, the regular <a href="http://www.aps.anl.gov/epics/base/index.php" >EPICS Base</a> (3.14 or 3.15) including the IOC, plus new components: pvData, pvAccess, pvDatabase, pvaClient, pvaPy, and pvaSrv.</p>
    <p><a href="http://www.aps.anl.gov/epics/download/base/index.php">EPICS Base</a>: as commonly known to EPICS engineers, an IOC (Input/Output Controller) is the software framework for front-end processors and device facing hardware in an EPICS control system. Optimized for low-latency I/O, IOCs
control and/or monitor a collection of devices such as actuators and measurement diagnostics. Each IOC node contains a memory resident real time database. The real time database has a set of "smart" records,
which are interconnected in a <a href="http://en.wikipedia.org/wiki/Dataflow" > Data
Flow</a> pattern. The records may contain "device support" code, to interface the processing model to physical devices through device drivers. Much more information can be found on the EPICS base at <a href="http://www.aps.anl.gov/epics/base/index.php" >http://www.aps.anl.gov/epics/base/index.php</a>.</p>
    <p><a href="literature.html#pvDataJava" >pvData</a> is a library for creating, inspecting and decoding memory-resident structured data beyond the dbr_* structures.</p>
    <p><a href="literature.html#pvAccessJava" >pvAccess</a> is a wire protocol, and so is a bit like the "Channel Access", but for pvData. In addition to get/put/monitor it supports put-with-get, an RCP-type callback, through which one can implement high performance data services. Additionally, 
 the client can ask for, or monitor, just a subset of a pvData structure on the server.</p>
<p> <a href="literature.html#pvaSrv" >pvaSrv</a>: there are 2 ways one can use the pvAccess software API to talk to an IOC; one can use Channel Access on wire, just through the pvAccess API, or one can use pvaSrv, a module which intermediates pvAccess to the record processing on an IOC. </p>
<p><a href="literature.html#pvDatabaseCPP" >pvDatabase</a> is a server-side software framework for writing high-performance network-accessible applications. It implements a memory-resident database of records defined in terms of pvData structures. Like the IOC database of classic EPICS, the records of pvDatabase can process on I/O events; unlike the IOC the records may be of any structure the engineer wishes, and may pull in data from any pvAccess-ible data source, plus Channel Access. pvDatabase images may be standalone, or hosted within an IOC, where they might interface directly to base records, asynchronous device driver support (asynDriver), or detector control (areaDetector). pvDatabase is then useful for complex optimal control tasks, data assembly, and preprocessing. Combined with pvAccess streaming, it can be used as the basis of a data processing pipeline.</p>
<p><a href="literature.html#pvaClientCPP" >pvaClient</a> 
is a synchronous wrapper on top of pvAccess, which is a callback based API.
</p>
<p><a href="literature.html#pvaPy" >pvPy</a> 
is a Python interface to pvData and pvAccess.
</p>
<p><q>So now one can create services on the network that do more than Channel Access,</q> Kay Kasemir. <q>Creativity can only be anarchic, capitalist, Darwinian, based on EPICS Version 4,</q> Umberto Eco. <q>Wow. Fantastic. Let's Go!</q> Tom Cruise. </p>

<h2 id="interop">Version 4 / EPICS Base Interoperation</h2>
EPICS V4 documentation

<p>EPICS Base (v3.14, v3.15 and others in use) includes a communications protocol named "Channel Access". Version
4 adds a new protocol called "pvAccess". Interoperability between the two protocols,
their APIs, and record processing, is provided in EPICS Version 4, in 2 ways:</p>
<ul>
  <li>The pvAccess client system includes Channel Access as a protocol
  "provider". The other protocol provider is pvAccess. That way, a single client
  library and API gives communications on both protocols</li>
  <li>A new IOC module, pvaSrv, interfaces pvAccess protocol wire I/O, to an IOC's
  regular CA and database processing.</li>
</ul>

<table id="interopdiag"  width="100%" style="border-width:0px">
  <caption style="text-align:center;font-size:70%;font-style:italic;line-height:90%"
  align="bottom">Interoperation of classic EPICS Base (green) and EPICS Version 4 endpoints (blue), is provided by the
  pvaSrv IOC module, and that pvAccess clients can optionally communicate using Channel Access. pvaSrv gives access to the base IOC database. The diagram also shows pvDatabase, the complex processing and data assembly support of EPICS Version 4. pvDatabases can be deployed inside or outside an IOC. When inside they might interface directly to base records, asynchronous device driver support (asynDriver), or detector control (areaDetector). pvDatabase is then useful for complex optimal control tasks, data assembly, and preprocessing. Finally, EPICS Version 4 can also interface to enterprise data sources.
  </caption>
  <tr>
    <td align="center"><img src="image/basicInteropDiagram/Slide4.jpg" alt="EPICS V3/V4 interoperation diagram"/>
    </td>
  </tr>
</table>

<p>See the talks <a href="http://www.epics2013.org/dms/EPICS2013/presentations/wednesday/Session_3/V4_Lange_pvaSrv.pdf">pvaSrv
- the IOC Side Bridge from pvAccess to an IOC</a> (PDF), Ralph Lange, and <a
 href="talks/2012/V3V4Interoperatibility.ppt" >V3/V4 Interoperability</a> (PPT), Marty
Kraimer.</p>

<h2 id="perf">Performance</h2>

<p>Very preliminary performance graphs for pvAccess floating point acquisitions are
given below, together with comparable Channel Access acquisition. The setup is C++
clients and servers, of the Beta 1.0.1 release (as on the downloads page - so these data are now significantly out of date), 2 MacBook
Pros (~2GHz Intel Core Duo-s, 4GB memory) with a 1 GBit Ethernet point-to-point
connection. The acquisition is a GET operation, on a double array value (DBR_DOUBLE
and pvAccess equivalent), varying in both cases the value array size. Note that in
addition to raw network encoding and deserializing performance, in a real world
implementation pvAccess could achieve much higher apparent performance since it
additionally has the capability to transfer only actually changed structure field values. </p>

<table id="perf1chan"  width="100%" style="border-width:0px">
  <caption style="text-align:center;font-size:70%;font-style:italic;margin:1em 6em
  0em 6em" align="bottom">
  pvAccess and Channel Access comparative performance (Number of
  channel value get operations per second), where only one channel's value is got 
  in each get operation, as a function of array size of the
  channel. The graph shows that roughly speaking, pvAccess does better than Channel
  Access with increasing channel value array size.   
  </caption>
  <tr>
    <td align="center"><img src="http://epics-pvdata.sourceforge.net/image/perf/pvAccessPerf_1ChanOfDiffSizes_gets_per_s.png"
      alt="EPICS V4 pvAccess performance diagram"/>
    </td>
  </tr>
</table>

<table id="perf1000chan"  width="100%" style="border-width:0px;margin:2em 0em 0em 0em">
  <caption style="text-align:center;font-size:70%;font-style:italic;margin:1em 6em
  0em 6em" align="bottom">
  pvAccess and Channel Access comparative performance (Number of
  channel value get operations per second), where 1000 channels values' are got 
  in each get operation, as a function of array size of the
  channel. The graph shows that roughly speaking, Channel
  Access does better than pvAccess with small messages, whereas pvAccess does better
  than CA for large array sizes.  
  </caption>
   <tr>
    <td align="center"><img src="http://epics-pvdata.sourceforge.net/image/perf/pvAccessPerf_1000Chan_vs_ChanSize.png"
      alt="EPICS V3/V4 interoperation diagram"/>
    </td>
  </tr>
</table>


</td>
</tr>
</table>

<address>Greg White, SLAC, greg at slac.stanford.edu, for EPICS V4 Working Group</address>

</body>
</html>
